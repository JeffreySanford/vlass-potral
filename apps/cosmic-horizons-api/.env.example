# ============================================================================
# Cosmic Horizons API - Environment Configuration
# ============================================================================
# This file contains all configuration options for the Cosmic Horizons API.
# 
# IMPORTANT FOR DEVELOPERS:
# - Copy this file to .env.local locally: cp .env.example .env.local
# - DO NOT commit .env.local to git (it's in .gitignore)
# - Non-sensitive configuration can stay in .env.example
# - Sensitive data (secrets, real credentials) goes in .env.local or CI/CD vars
# - The app will use values from .env.local if available, otherwise .env.example
#
# SEEDED TEST USERS (for development & testing):
# These users are automatically created in the database on initialization.
# Use them to test authentication and role-based features.
#
#   Username: testuser
#   Email:    test@cosmic.local
#   Password: Password123!
#   Role:     user
#
#   Username: adminuser (or 'admin')
#   Email:    admin@cosmic.local (or admin-direct@cosmic.local)
#   Password: AdminPassword123!
#   Role:     admin
#
# Login via UI: http://localhost:4200/auth/login
# Use email addresses (not usernames) to log in.
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Development defaults use local PostgreSQL. Override in .env.local for CI/prod.

DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=15432
DB_USER=cosmic_horizons_user
DB_PASSWORD=cosmic_horizons_password_dev
DB_NAME=cosmic_horizons

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# Used for caching, session storage, and logging aggregation

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_AUTH_ENABLED=false

# Optional: Redis database number (0-15)
# REDIS_DB=0

# ============================================================================
# MESSAGING (RABBITMQ/KAFKA)
# ============================================================================

RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USER=guest
RABBITMQ_PASS=guest
RABBITMQ_QUEUE_NAME=element_telemetry_queue
RABBITMQ_EXCHANGE_NAME=element.telemetry.exchange
RABBITMQ_ROUTING_KEY=element.telemetry
RABBITMQ_QUEUE_DURABLE=false

KAFKA_HOST=localhost
KAFKA_PORT=9092

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

NODE_ENV=development
API_PORT=3000
SERVER_HOST=0.0.0.0

# ============================================================================
# AUTHENTICATION & JWT
# ============================================================================
# IMPORTANT: Change these in .env.local or via environment variables
# MIN LENGTH FOR JWT_SECRET: 32 characters

# Session secret for express-session
SESSION_SECRET=your-session-secret-change-in-production

# JWT configuration for authentication tokens
JWT_SECRET=your-jwt-secret-key-min-32-chars-long-change-this
JWT_EXPIRES_IN=7d

# ============================================================================
# GITHUB OAUTH (SENSITIVE - Use .env.local or CI vars)
# ============================================================================
# Get these from GitHub Settings → Developer settings → OAuth Apps

GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/auth/github/callback

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
# Used for CORS, redirects, and OAuth callbacks

FRONTEND_URL=http://localhost:4200

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

LOG_LEVEL=info
LOGS_REDIS_ENABLED=false
AUDIT_RETENTION_DAYS=90

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Ephemeris Service (Scientific coordinate calculations)
EPHEMERIS_ENABLED=true
EPHEMERIS_CACHE_ENABLED=true
EPHEMERIS_CACHE_TTL_HOURS=24

# Comments & Threading
COMMENTS_ENABLED=true

# Remote Jobs (TACC Integration)
JOBS_ENABLED=true

# ============================================================================
# APPLICATION INFORMATION
# ============================================================================

APP_VERSION=1.1.1
APP_NAME=Cosmic Horizons API

