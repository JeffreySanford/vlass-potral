
> nx run cosmic-horizons-web:test

[33m‚ùØ[39m Building...
[32m‚úî[39m Building...
[37m[1mInitial chunk files[22m                                           [2m | [22m[1mNames[22m                                                      [2m | [22m [1mRaw size[22m[39m
[37m[32mspec-app-features-viewer-viewer.component.js[39m[37m                  [2m | [22m[2mspec-app-features-viewer-viewer.component[22m                  [2m | [22m[36m111.73 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-auth-register-register.component.js[39m[37m         [2m | [22m[2mspec-app-features-auth-register-register.component[22m         [2m | [22m [36m49.14 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-landing-landing.component.js[39m[37m                [2m | [22m[2mspec-app-features-landing-landing.component[22m                [2m | [22m [36m48.99 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-post-detail.component.js[39m[37m              [2m | [22m[2mspec-app-features-posts-post-detail.component[22m              [2m | [22m [36m44.22 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-moderation-moderation.component.js[39m[37m          [2m | [22m[2mspec-app-features-moderation-moderation.component[22m          [2m | [22m [36m39.69 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-logs-logs.component.js[39m[37m                      [2m | [22m[2mspec-app-features-logs-logs.component[22m                      [2m | [22m [36m34.76 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-profile-profile.component.js[39m[37m                [2m | [22m[2mspec-app-features-profile-profile.component[22m                [2m | [22m [36m33.87 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-post-editor.component.js[39m[37m              [2m | [22m[2mspec-app-features-posts-post-editor.component[22m              [2m | [22m [36m32.84 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-comment-item-comment-item.component.js[39m[37m[2m | [22m[2mspec-app-features-posts-comment-item-comment-item.component[22m[2m | [22m [36m25.96 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-jobs-jobs-console.component.js[39m[37m[39m              [2m | [22m[2mspec-app-features-jobs-jobs-console.component[22m              [2m | [22m [36m24.69 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-posts-list.component.js[39m[37m               [2m | [22m[2mspec-app-features-posts-posts-list.component[22m               [2m | [22m [36m24.07 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-A5T6GLFH.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m [36m21.45 kB[39m[37m[2m | [22m[39m
[37m[32mstyles.css[39m[37m                                                    [2m | [22m[2mstyles[22m                                                     [2m | [22m [36m15.74 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-app.js[39m[37m                                               [2m | [22m[2mspec-app-app[22m                                               [2m | [22m [36m14.56 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-ZQYZS2ST.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m9.00 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-interceptors-auth-token.interceptor.js[39m[37m               [2m | [22m[2mspec-app-interceptors-auth-token.interceptor[22m               [2m | [22m  [36m7.33 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-MSF6H7H5.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m5.24 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-guards-admin.guard.js[39m[37m                                [2m | [22m[2mspec-app-guards-admin.guard[22m                                [2m | [22m  [36m4.78 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-RSTWSNOR.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m4.75 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-posts-api.service.js[39m[37m                  [2m | [22m[2mspec-a[39m[37mpp-features-posts-posts-api.service[22m                  [2m | [22m  [36m3.96 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-RJ73JCX7.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m3.24 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-services-sky-preview.service.js[39m[37m                      [2m | [22m[2mspec-app-services-sky-preview.service[22m                      [2m | [22m  [36m3.23 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-FWMVXGIO.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m2.79 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-UFZ24XT5.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m2.71 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-viewer-hips-tile-prefetch.service.js[39m[37m        [2m | [22m[2mspec-app-features-viewer-hips-tile-prefetch.service[22m        [2m | [22m  [36m2.06 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-5HS3K6L3.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m1.97 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-QGDJNKF2.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m1.77 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-E3AXNYGL.js[39m[37m                                             [2m | [22m[2m-[22m                                                          [2m | [22m  [36m1.40 kB[39m[37m[2m | [22m[39m
[37m[32minit-testbed.js[39m[37m                                               [2m | [22m[2minit-testbed[22m                                               [2m | [22m  [36m1.21 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-markdown-renderer.js[39m[37m                  [2m | [22m[2mspec-app-features-posts-markdown-renderer[22m[39m
[37m                  [2m | [22m[36m711 bytes[39m[37m[2m | [22m[39m
[37m[39m
[37m[1m [22m                                                             [2m | [22m[1mInitial total[22m                                              [2m | [22m[1m577.87 kB[22m[39m
[37m[39m
[37mApplication bundle generation complete. [3.232 seconds] - 2026-02-12T14:13:22.354Z[39m
[37m[39m
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/repos/cosmic-horizons[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/app.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 54[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/markdown-renderer.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/viewer/hips-tile-prefetch.service.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/services/sky-preview.service.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/interceptors/auth-token.interceptor.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/posts-api.service.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/guards/admin.guard.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/logs/logs.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 265[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/auth/register/register.component.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 266[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/posts-list.component.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 255[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/profile/profile.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 199[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/post-editor.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 288[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/landing/landing.component.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 394[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/post-detail.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 336[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/jobs/jobs-console.component.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 278[2mms[22m[39m
 [32m‚úì[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/viewer/viewer.component.spec.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 641[2mms[22m[39m
 [31m‚ùØ[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/posts/comment-item/comment-item.component.spec.ts [2m([22m[2m62 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3224[2mms[22m[39m
       [32m‚úì[39m should create[32m 82[2mms[22m[39m
       [32m‚úì[39m should initialize with default values[32m 14[2mms[22m[39m
       [32m‚úì[39m should return true when user is the comment author[32m 18[2mms[22m[39m
       [32m‚úì[39m should return false when user is not the comment author[32m 10[2mms[22m[39m
       [32m‚úì[39m should return false when user is not authenticated[32m 11[2mms[22m[39m
       [32m‚úì[39m should return true when authenticated, post not locked, and comment not deleted[32m 8[2mms[22m[39m
       [32m‚úì[39m should return false when not authenticated[32m 16[2mms[22m[39m
       [32m‚úì[39m should return false when post is locked[32m 20[2mms[22m[39m
       [32m‚úì[39m should return false when comment is deleted[32m 11[2mms[22m[39m
       [32m‚úì[39m should return true when authenticated and comment not deleted[32m 10[2mms[22m[39m
       [32m‚úì[39m should return false when not authenticated[32m 7[2mms[22m[39m
       [32m‚úì[39m should return false when comment is deleted[32m 6[2mms[22m[39m
       [32m‚úì[39m should return true when user is owner[32m 5[2mms[22m[39m
       [32m‚úì[39m should return true when user has deleteAny permission[32m 7[2mms[22m[39m
       [32m‚úì[39m should return false when user is neither owner nor has permission[32m 5[2mms[22m[39m
       [32m‚úì[39m should toggle showReplyForm true and clear state[32m 5[2mms[22m[39m
       [32m‚úì[39m should toggle showReplyForm false[32m 5[2mms[22m[39m
       [32m‚úì[39m should submit reply successfully[32m 107[2mms[22m[39m
       [32m‚úì[39m should not submit when reply content is empty[32m 4[2mms[22m[39m
       [32m‚úì[39m should not submit when already submitting[32m 4[2mms[22m[39m
       [32m‚úì[39m should emit replied event on successful submission[32m 114[2mms[22m[39m
       [32m‚úì[39m should handle error response[32m 109[2mms[22m[39m
       [32m‚úì[39m should set generic error message when error has no message[32m 108[2mms[22m[39m
       [32m‚úì[39m should delete comment when user confirms[32m 113[2mms[22m[39m
       [32m‚úì[39m should not delete when user cancels confirmation[32m 5[2mms[22m[39m
       [32m‚úì[39m should not delete without permission[32m 7[2mms[22m[39m
       [32m‚úì[39m should emit deleted event with comment id on successful deletion[32m 122[2mms[22m[39m
       [32m‚úì[39m should show alert on deletion error[32m 110[2mms[22m[39m
       [32m‚úì[39m should show generic error alert when no message provided[32m 109[2mms[22m[39m
       [32m‚úì[39m should report comment with reason[32m 107[2mms[22m[39m
       [32m‚úì[39m should not report when user cancels prompt[32m 4[2mms[22m[39m
       [32m‚úì[39m should show alert on report error[32m 108[2mms[22m[39m
       [32m‚úì[39m should show generic error alert when no message provided[32m 109[2mms[22m[39m
       [32m‚úì[39m should hide comment when user has permission[32m 107[2mms[22m[39m
       [32m‚úì[39m should not hide when user lacks permission[32m 3[2mms[22m[39m
       [32m‚úì[39m should show alert on hide error[32m 108[2mms[22m[39m
       [32m‚úì[39m should show generic error alert when no message provided[32m 107[2mms[22m[39m
       [32m‚úì[39m should not submit when content is empty[32m 4[2mms[22m[39m
       [32m‚úì[39m should not submit when content is only whitespace[32m 3[2mms[22m[39m
       [32m‚úì[39m should not submit when already submitting[32m 3[2mms[22m[39m
       [32m‚úì[39m should trim whitespace before submitting[32m 113[2mms[22m[39m
       [32m‚úì[39m should emit replied event after successful submission[32m 110[2mms[22m[39m
       [32m‚úì[39m should maintain error state across operations[32m 107[2mms[22m[39m
       [32m‚úì[39m should not delete when user cancels confirmation[32m 4[2mms[22m[39m
       [32m‚úì[39m should not delete when user lacks permission[32m 3[2mms[22m[39m
       [32m‚úì[39m should emit deleted event with comment id on success[32m 103[2mms[22m[39m
       [32m‚úì[39m should show generic error alert when error has no message[32m 107[2mms[22m[39m
       [32m‚úì[39m should not report when user cancels prompt[32m 3[2mms[22m[39m
       [32m‚úì[39m should not report when user provides empty string[32m 2[2mms[22m[39m
       [32m‚úì[39m should report with user provided reason[32m 104[2mms[22m[39m
       [32m‚úì[39m should show success alert after reporting[32m 108[2mms[22m[39m
       [32m‚úì[39m should not hide when user lacks canDeleteAny permission[32m 9[2mms[22m[39m
       [32m‚úì[39m should emit replied event to trigger refresh[32m 113[2mms[22m[39m
       [32m‚úì[39m should show generic error when no message provided[32m 110[2mms[22m[39m
       [32m‚úì[39m should show specific error message when provided[32m 107[2mms[22m[39m
       [32m‚úì[39m should emit deleted event with child comment id[32m 4[2mms[22m[39m
       [32m‚úì[39m should forward different comment ids[32m 3[2mms[22m[39m
       [32m‚úì[39m should emit replied event[32m 2[2mms[22m[39m
       [32m‚úì[39m should emit replied event without arguments[32m 2[2mms[22m[39m
[31m       [31m√ó[31m should handle reply form lifecycle[39m[32m 168[2mms[22m[39m
       [32m‚úì[39m should handle multiple permission checks[32m 3[2mms[22m[39m
       [32m‚úì[39m should handle error state persistence across operations[32m 113[2mms[22m[39m
 [31m‚ùØ[39m [30m[46m cosmic-horizons-web [49m[39m apps/cosmic-horizons-web/src/app/features/moderation/moderation.component.spec.ts [2m([22m[2m29 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 4244[2mms[22m[39m
       [32m‚úì[39m should create the component[32m 183[2mms[22m[39m
       [32m‚úì[39m should initialize with empty reports[32m 36[2mms[22m[39m
       [32m‚úì[39m should initialize with loading false[32m 20[2mms[22m[39m
       [32m‚úì[39m should initialize with empty error[32m 24[2mms[22m[39m
       [32m‚úì[39m should call loadReports on ngOnInit[32m 15[2mms[22m[39m
       [32m‚úì[39m should populate reports on successful load[32m 178[2mms[22m[39m
       [32m‚úì[39m should set loading to false after successful load[32m 168[2mms[22m[39m
       [32m‚úì[39m should handle empty reports list[32m 170[2mms[22m[39m
       [32m‚úì[39m should set error message on failure[32m 187[2mms[22m[39m
       [32m‚úì[39m should set loading to false on error[32m 168[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle multiple consecutive loads [33m 329[2mms[22m[39m
       [32m‚úì[39m should call resolveReport with correct parameters for reviewed status[32m 125[2mms[22m[39m
       [32m‚úì[39m should call resolveReport with correct parameters for dismissed status[32m 111[2mms[22m[39m
       [32m‚úì[39m should reload reports after successful resolution[32m 125[2mms[22m[39m
       [32m‚úì[39m should set error message on resolution failure[32m 121[2mms[22m[39m
       [32m‚úì[39m should include status in error message for dismissed[32m 111[2mms[22m[39m
[31m       [31m√ó[31m should handle resolution of multiple reports[39m[32m 237[2mms[22m[39m
       [32m‚úì[39m should handle consecutive resolutions with different statuses[32m 137[2mms[22m[39m
       [32m‚úì[39m should call hideComment with correct comment id[32m 121[2mms[22m[39m
       [32m‚úì[39m should reload reports after successful hide[32m 123[2mms[22m[39m
       [32m‚úì[39m should set error message on hide failure[32m 124[2mms[22m[39m
       [32m‚úì[39m should handle multiple consecutive hides[32m 126[2mms[22m[39m
       [32m‚úì[39m should update error on partial failure[32m 126[2mms[22m[39m
       [32m‚úì[39m should set error on load failure[32m 167[2mms[22m[39m
       [32m‚úì[39m should preserve error when operation fails[32m 127[2mms[22m[39m
       [32m‚úì[39m should overwrite previous error with new error[32m 123[2mms[22m[39m
       [32m‚úì[39m should handle rapid sequential operations with errors[32m 234[2mms[22m[39m
       [32m‚úì[39m should load reports and then resolve one[32m 278[2mms[22m[39m
       [32m‚úì[39m should handle full moderation workflow[32m 249[2mms[22m[39m
[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m16 passed[39m[22m[90m (18)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m162 passed[39m[22m[90m (164)[39m
[2m   Start at [22m 08:13:22
[2m   Duration [22m 6.60s[2m (transform 2.72s, setup 8.48s, import 7.24s, tests 10.62s, environment 18.73s)[22m



 NX   Running target test for project cosmic-horizons-web failed

Failed tasks:

- cosmic-horizons-web:test

Hint: run the command with --verbose for more details.

